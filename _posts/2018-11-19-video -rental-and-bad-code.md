---
layout: post
title:  "비디오 대여점과 잘못된 코드 인식"
subtitle: 아무말 적기
categories: etc
tags: thinking
comments: true
---  

비디오 대여점 예제에 리팩토링을 적용하는 과정에서 use case를 분석하고, 잘못된 코드를 파악하고, 객체 지향적으로 생각하는 방법 일부를 배울 수 있다. 비디오 대여점(Video Rental)은 객체 지향 기법을 설명하는 수많은 글과 책의 근간인 refactoring의 첫 챕터에 등장한다. 마틴 파울러는 아래와 같은 설명을 덧붙인다.

*원리를 알고 나서 그것을 일반화하긴 쉽지만， 거꾸로 일반화된 이론을 듣고서 그것의 적용 방법을 알기란 어려운 법이다. 리팩토링 원리를 한눈에 볼 수 있는 맛보기 예제를 먼저 보여주기로 했다.*

비디오 대여점은 ‘리팩토링의 원리를 파악할 수 있는 예제’ 이기도 하지만 우리가 현실에서 마주하는 여러 문제의 표상이기도 하다. 다루는 내용을 조금 확장해본다면 현실에서 겪는 문제와 이어질 것이다.

표상이 되는 비디오 대여점은 잘못된 코드 인식을 기르는 데 도움이 된다. 잘못된 코드가 무엇인지 인식하는 건 올바른 코드를 작성하는 능력과 표리일체이다. 무엇이 잘못된 지 알지 못하면서 어떻게 올바른 코드를 작성하겠는가? 인식을 가지는 것은 어렵지만 중요하다. 인식이 없다면 자신은 물론이거니와 주변 동료에게 재앙을 불러올 것이다. 간혹 인식이 없는 사람들이 코드에는 답이 없다는 이야기를 하는데, 코드에는 정답이 없는 것이지 오답은 넘쳐난다.

잘못된 코드에 대한 인식은 경험에서 비롯된다고 할 수 있다. 여기서 경험이란 잘못된 코드와 좋은 코드(교과서적인 코드라고 할 수 있겠다.)를 작성하거나, 리딩한 경험이다. 무엇 하나가 빠지지 않고 모두 경험해보는 것이 좋다. 잘못된 코드는 비교적 쉽게 접할 수 있지만, 좋은 코드는 그렇지 않다. 여러분이 속한 프로젝트에서 좋은 코드를 접하기 어렵다면 아래와 같은 방법을 추천한다. 마찬가지로 무엇 하나가 빠지는 것보다 모두 경험해보는 것이 좋다.

1. 오픈소스 참여
2. 리팩토링 수련(볼링 게임, 숫자 야구, 비디오 대여점, 급여 관리 시스템 등)
3. 관련서 학습 및 프로젝트에서 실천(클린 소프트웨어, 디자인 패턴을 활용한 리랙토링, 클린 코드 등)

글에서 말하는 잘못된 코드란 단순히 논리적 오류를 발생시키는 코드가 아니다. 객체지향 인식 부족으로 문제를 절차적으로 접근하거나, 반대로 적합하지 않은 상황에도 객체지향을 과도하게 적용하는 등의 안티 패턴을 가리키는 것이다.

비디오 대여점 예제의 링크를 첨부한다.
예제 코드를 보면 잘못된 부분과 그에 대한 해결책이 머릿속에 그려져야 할 것이다. 

[GitHub - mroderick/refactoring-day](https://github.com/mroderick/refactoring-day)



![](/assets/img/olfactory_symptom.jpg)

`코드 악취에 대한 무 후각증은 상실 기간이 길어도 치료할 수 있습니다.`

무엇이 잘못된 지에 대한 인식이 없는 사람이 작성한 코드는 악취가 스며들어있다. 악취를 맡지 못하는 것이다. 레거시 프로그램을 리팩토링 하던 중 막연히 든 생각을 적었다. 기록 정도의 글이라 후에 다른 글에 흡수될 것 같다.
